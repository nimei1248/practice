-- cpu: 24 core   mem: 64G   instance: 8

[client]
port=3306
socket=/data/inst1/sock/mysql.sock
default-character-set=utf8
local-infile=1

[mysqld]
#*********************************ThreadLevel***********************************
read_buffer_size=256K
sort_buffer_size=256K
read_rnd_buffer_size=256K
join_buffer_size=4M
thread_stack=512K
thread_cache_size=16
binlog_cache_size=1M

#********************************Global******************************************
disable-partition-engine-check=1
default_password_lifetime=0
query_cache_type=0
query_cache_size=0
ssl=0
local-infile=1
key_buffer_size=64M
table_open_cache=8192
explicit_defaults_for_timestamp=1
back_log=300
max_connections=500
max_connect_errors=1000000000000000
wait_timeout=1800
interactive_timeout=1800
connect_timeout=60
net_read_timeout=60
port=3306
secure-file-priv=/data/mydpdir/inst1
socket=/data/inst1/sock/mysql.sock
pid-file=/data/inst1/sock/mysql.pid
datadir=/data/inst1/mydata
tmpdir=/data/inst1/tmpdir
lower_case_table_names=1
event_scheduler=1
character_set_server=utf8
collation-server=utf8_general_ci
skip-external-locking
skip-name-resolve=1
max_allowed_packet=16M
transaction_isolation=READ-COMMITTED
tmp_table_size=128M

#************************************LogsRelatedSettings*********************************
#general_log_file=/data/inst1/log/general.log
log-error=/data/inst1/log/error.log
slow_query_log=1
long_query_time=3
log_queries_not_using_indexes=1
log_throttle_queries_not_using_indexes=5
min_examined_row_limit=100
slow_query_log_file=/data/inst1/log/slow-query.log
log-bin=/data/inst1/binlog/mysql-bin.index
log-bin=/data/inst1/binlog/mysql-bin
max_binlog_size=200M
binlog-format=MIXED
relay-log=/data/inst1/relaylog/mysql-relay-bin.index
relay-log=/data/inst1/relaylog/mysql-relay-bin
expire_logs_days=7

#************************************ReplicationRelatedSettings***************************
server-id=1863306
slave-skip-errors=1022,1032,1062
gtid_mode=ON
enforce-gtid-consistency=1
#auto_increment_increment=2
#auto_increment_offset=1
log_slave_updates=1
relay_log_recovery=1
relay_log_purge=1
sync_binlog=1
slave_compressed_protocol=1
log_bin_trust_function_creators=1
slave_parallel_workers=4
slave-net-timeout=10
net_retry_count=3
skip-slave-start
#read_only=1

#************************************InnodbSpecificOptions***************************
default-storage-engine=InnoDB
innodb_file_per_table=1
innodb_open_files=8192
innodb_flush_log_at_trx_commit=1
innodb_buffer_pool_size=250M
innodb_buffer_pool_instances=4
innodb_read_io_threads=8
innodb_write_io_threads=8
innodb_purge_threads=8
innodb_lock_wait_timeout=30
innodb_flush_method=O_DIRECT
innodb_max_dirty_pages_pct=85
innodb_data_home_dir=/data/inst1/innodb_ts
innodb_log_group_home_dir=/data/inst1/innodb_log
innodb_log_file_size=512M
innodb_log_buffer_size=16M
innodb_log_files_in_group=6
innodb_fast_shutdown=1
innodb_force_recovery=0
innodb_data_file_path=ibdata1:100M:autoextend
innodb_undo_directory=/data/inst1/undo_ts
innodb_undo_log_truncate=1
innodb_purge_rseg_truncate_frequency=32
innodb_undo_tablespaces=4
innodb_undo_logs=128
innodb_max_undo_log_size=4G

[mysql]
auto-rehash

[mysqldump]
quick
max_allowed_packet=128M

