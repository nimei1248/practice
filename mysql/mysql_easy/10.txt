                                 第10章  索引的设计和使用
22:53
索引是数据库中用来提高性能的最常用工具。本章主要介绍了MySQL 5.0支持的索引类型, 并简单介绍了索引的设计原则。
在后面的优化篇中,将会对索引做更多的介绍


10.1 索引概述
所有 MySQL 列类型都可以被索引,对相关列使用索引是 高 SELECT 操作性能的最佳途 径。根据存储引擎可以定义每个表的最大索引数和最大索引长度,每种存储引擎(如 MyISAM、 InnoDB、BDB、MEMORY 等)对每个表至少支持 16 个索引,总索引长度至少为 256 字节。 大多数存储引擎有更高的限制。
MyISAM 和 InnoDB 存储引擎的表默认创建的都是 BTREE 索引。MySQL 目前还不支持函 数索引,但是支持前缀索引,即对索引字段的前 N 个字符创建索引。前缀索引的长度跟存 储引擎相关,对于 MyISAM 存储引擎的表,索引的前缀长度可以达到 1000 字节长,而对于 InnoDB 存储引擎的表,索引的前缀长度最长是 767 字节。请注意前缀的限制应以字节为单 位进行测量,而CREATE TABLE语句中的前缀长度解释为字符数。在为使用多字节字符集的 列指定前缀长度时一定要加以考虑。
MySQL 中还支持全文本(FULLTEXT)索引,该索引可以用于全文搜索。但是当前最新版 本中(5.0)只有 MyISAM 存储引擎支持 FULLTEXT 索引,并且只限于 CHAR、VARCHAR 和 TEXT 列。索引总是对整个列进行的,不支持局部(前缀)索引。
也可以为空间列类型创建索引,但是只有 MyISAM 存储引擎支持空间类型索引,且索引 的字段必须是非空的。
默认情况下,MEMORY 存储引擎使用 HASH 索引,但也支持 BTREE 索引。 索引在创建表的时候可以同时创建,也可以随时增加新的索引。创建新索引的语法为:
